<%= simple_form_for([@order, @term]) do |f| %>
  <div class="relative z-0 mb-6 w-full group">
      <label for="order_date" class="term__form-label">Date de l'échéance'</label>
      <%= f.date_field :due_date, label: false, class:'term__form-input', required: true %>
  </div>

  <div class="relative z-0 mb-6 w-full group">
      <label for="amount" class="term__form-label">Montant de l'échéance</label>
      <%= f.input :amount, label: false, input_html: { class:'term__form-input', placeholder: '€ en Euros' }, required: true %>
  </div>

  <div class="relative z-0 mb-6 w-full group">
      <label for="file" class="term__form-label">Télécharger le Document</label>
      <%= f.input :file, label: false, input_html: { class:'hidden', id:'dropbox-file-url' } %>
  </div>

  <div id="dropboxContainer" class="mt-10"></div>

  <div class="mt-5 border-1 shadow-lg text-green-800 hover:text-green-400" id="dropbox-file-name"></div>

  <%= f.button :submit, button_name, class: 'term__form-button' %>
<% end %>

<script>
  options = {
        success: function(file){
                const file_url = document.getElementById("dropbox-file-url");
                const file_name = document.getElementById("dropbox-file-name");
                const link_name = document.createElement('a');

                file_url.value = file[0].link;
                link_name.innerText = '';
                link_name.innerText = file[0].name;
                link_name.href = file[0].link;
                link_name.target = '_blank';
                file_name.appendChild(link_name);
        },
        cancel: function(){
        },
        multiselect: false,
        extensions:['.pdf', '.doc', '.docx'],
  };

  const button = Dropbox.createChooseButton(options);
  document.getElementById("dropboxContainer").appendChild(button);
</script>
